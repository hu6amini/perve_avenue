(function(){"use strict";const supportsLazyLoading="loading" in HTMLImageElement.prototype,supportsAsyncDecoding="decoding" in HTMLImageElement.prototype;function addLazyAttributes(element){if(!element.hasAttribute("data-src")){if(element.tagName==="IMG"){if(supportsLazyLoading){element.setAttribute("loading","lazy");if(element.offsetTop<window.innerHeight){element.setAttribute("fetchpriority","high")}}if(supportsAsyncDecoding)element.setAttribute("decoding","async")}else if(element.tagName==="IFRAME"&&supportsLazyLoading){element.setAttribute("loading","lazy");if(element.offsetTop<window.innerHeight){element.setAttribute("fetchpriority","high")}}}}function blockLoading(element){if(!element.hasAttribute("data-src")){element.setAttribute("data-src",element.src);element.removeAttribute("src")}}function handleError(element){element.addEventListener("error",function(){element.src=element.getAttribute("data-src");element.removeAttribute("data-src")})}function lazyLoadOnScroll(){const observer=new IntersectionObserver((entries)=>{entries.forEach((entry)=>{if(entry.isIntersecting){const element=entry.target;if(element.tagName==="IMG"||element.tagName==="IFRAME"){element.src=element.getAttribute("data-src");element.removeAttribute("data-src");observer.unobserve(element)}})},{rootMargin:"200px"});document.querySelectorAll("img[data-src], iframe[data-src]").forEach((element)=>{observer.observe(element);handleError(element)})}function processElement(element){if(element.tagName==="IMG"||element.tagName==="IFRAME"){blockLoading(element);addLazyAttributes(element)}}function processExistingElements(){document.querySelectorAll("img:not([data-src]), iframe:not([data-src])").forEach(processElement)}const observer=new MutationObserver((mutations)=>{mutations.forEach((mutation)=>{mutation.addedNodes.forEach((node)=>{if(node.nodeType===1){processElement(node);node.querySelectorAll("img:not([data-src]), iframe:not([data-src])").forEach(processElement)}})})});processExistingElements();lazyLoadOnScroll();observer.observe(document.body,{childList:true,subtree:true})})();
