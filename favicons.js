function updateFaviconsForLinks(e){e.forEach((e=>{if(!(e.closest(".spoiler .code_top a")||e.closest(".fancyborder a")||e.closest(".quote_top a")||e.querySelector("img"))){let o=document.createElement("img");e.href.includes("youtu.be")?o.src="https://www.google.com/s2/favicons?domain=youtube.com":o.src="https://www.google.com/s2/favicons?domain="+e.href,o.alt="fav",e.matches(".quote a, .tmsg a")?(o.width=14,o.height=14):(o.width=16,o.height=16),e.prepend(o)}}))}!function waitForElements(){const e=document.querySelectorAll(".color a"),o=document.querySelectorAll("span.tmsg a");e.length>0||o.length>0?(updateFaviconsForLinks(e),updateFaviconsForLinks(o)):setTimeout(waitForElements,100)}();const favicon=new MutationObserver((e=>{e.forEach((e=>{updateFaviconsForLinks(e.target.querySelectorAll(".color a, span.tmsg a"))}))})),body=document.querySelector("body");favicon.observe(body,{childList:!0,subtree:!0}),updateFaviconsForLinks(document.querySelectorAll(".color a, span.tmsg a"));
