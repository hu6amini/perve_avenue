(()=>{"use strict";const e="page-loading-bar";const t="page-loading-track";let n=null;let a=false;let o=null;const s=()=>{r();const n=Object.assign(document.createElement("div"),{id:t});Object.assign(n.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"3px",backgroundColor:"var(--backg, #1A1E23)",zIndex:"1049",pointerEvents:"none",overflow:"hidden"});const a=Object.assign(document.createElement("div"),{id:e});Object.assign(a.style,{position:"absolute",left:"0",top:"0",width:"33%",height:"100%",background:"var(--lncol, #48ACF0)",pointerEvents:"none",transform:"translateX(-33vw)",animation:"1.5s ease-in-out infinite pageLoadingBar"});const o=Object.assign(document.createElement("div"),{style:`\n position: absolute;\n right: 0;\n height: 100%;\n width: 100px;\n box-shadow: 0 0 10px 2px var(--lncol, #48ACF0);\n transform: rotate(2deg) translate(0px, -3px);\n pointer-events: none;\n `});a.append(o);n.append(a);document.body.append(n);i();return a};const i=()=>{o=Object.assign(document.createElement("style"),{textContent:`\n @keyframes pageLoadingBar {\n 0% { transform: translateX(-33vw); }\n 100% { transform: translateX(100vw); }\n }\n #${e} { \n animation: 1.5s ease-in-out infinite pageLoadingBar; \n }\n `});document.head.append(o)};const r=()=>{document.getElementById(e)?.remove();document.getElementById(t)?.remove();o?.remove();o=null};const d=()=>{if(a)return;n=s();a=true};const c=()=>{if(!a)return;const e=document.getElementById(t);e?.style.setProperty("opacity","0");e?.style.setProperty("transition","opacity 0.3s ease");setTimeout((()=>{r();a=false;n=null}),300)};const l=()=>{if(window.instantpage){document.addEventListener("instantpage:click",d);document.addEventListener("instantpage:fetch",d)}document.addEventListener("click",(e=>{const t=e.target.closest("a");const n=e.target.closest(".popup, .modal, [data-no-loading]");if(t?.href&&!n&&t.href!==window.location.href&&!t.target&&!t.hash&&!t.href.startsWith("javascript:")){d()}}),{capture:true});window.addEventListener("load",c);if(window.instantpage){document.addEventListener("instantpage:receive",c)}setTimeout(c,8e3)};Object.assign(window,{PageLoader:{start:d,stop:c,isActive:()=>a}});l();if(document.readyState!=="complete"){d();window.addEventListener("load",c)}})();
