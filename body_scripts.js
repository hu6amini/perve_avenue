//Menuwrap Icons
function waitForElement(e,t){const o=new MutationObserver((r=>{for(const i of r)if("childList"===i.type&&document.querySelector(e)){o.disconnect(),t(document.querySelector(e));break}}));o.observe(document.body,{childList:!0,subtree:!0})}function addIdsToMenuItems(e){const t=e.querySelector(".left");t&&(t.style.visibility="visible");e.querySelectorAll(".left li.menu").forEach((e=>{e.querySelector(".nick")?e.id="nick":e.querySelector('a[href="https://msg.forumcommunity.net/?act=Msg&CODE=01&c=655775"]')?e.id="messenger":e.querySelector('a[href="https://msg.forumcommunity.net/?act=UserCP&CODE=26&c=655775"]')?e.id="topics":e.querySelector('a[href="#notifications"]')?e.id="notif":e.querySelector('form[action="/?act=Mod"]')&&(e.id="mod");const t=e.querySelector("a span");t&&["&nbsp;Moderation","&nbsp;Moderazione","&nbsp;Moderación","&nbsp;Modération","&nbsp;Mäßigung","&nbsp;Moderação"].includes(t.innerHTML.trim())&&(e.id="mod");e.querySelector('a[href="https://www.forumcommunity.net/?cid=655775"]')&&(e.id="admin")}));e.querySelectorAll(".left li:not(.menu)").forEach((e=>{const t=e.querySelector("a");t&&"HOME"===t.textContent.trim()&&(e.id="pahome"),t&&"/latestupdates"===t.getAttribute("href")&&(e.id="updates")}))}waitForElement(".menuwrap",addIdsToMenuItems);
//Emojione
function applyEmojiTransformation(o){o.classList.contains("[class*=e1a-]")||(o.innerHTML=emojione.toImage(emojione.shortnameToUnicode(emojione.toShort(o.innerHTML))))}function waitForElement(o,e){const t=new MutationObserver((function(n){n.forEach((function(n){if("childList"===n.type){const n=document.querySelectorAll(o);n.length>0&&(t.disconnect(),e(n))}}))}));t.observe(document.body,{childList:!0,subtree:!0})}function observeElements(o){o.split(",").forEach((o=>{document.querySelectorAll(o.trim()).forEach(applyEmojiTransformation)}));new MutationObserver((function(e){e.forEach((function(e){"childList"===e.type&&e.addedNodes.forEach((function(e){e.nodeType===Node.ELEMENT_NODE&&o.split(",").forEach((o=>{(e.matches(o.trim())||e.querySelector(o.trim()))&&applyEmojiTransformation(e.matches(o.trim())?e:e.querySelector(o.trim()))}))}))}))})).observe(document.body,{childList:!0,subtree:!0}),o.split(",").forEach((o=>{waitForElement(o.trim(),(function(o){o.forEach(applyEmojiTransformation)}))}))}observeElements(".color,.tmsg,.profile-interests,.web a,.mtitle,.notification-text,.tiptap.ProseMirror");
