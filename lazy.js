(function(){const t=new Map;let e=0;let s=false;document.documentElement.style.visibility="hidden";const n=t=>t.closest(".slick_carousel")||t.closest("#st-visual-editor")||t.closest(".send")||t.hasAttribute("data-src")||t.classList.contains("lazyload")||t.getAttribute("decoding")==="async"||t.src.startsWith("data:");const o=e=>{if(n(e))return;const s=e.src;if(!s)return;if(t.has(s)){const{width:n,height:o}=t.get(s);a(e,s,n,o)}else{const n=new Image;n.onload=()=>{const o=n.naturalWidth;const i=n.naturalHeight;t.set(s,{width:o,height:i});a(e,s,o,i)};n.onerror=()=>{a(e,s)};n.src=s}};const a=(t,e,s=null,n=null)=>{t.setAttribute("data-src",e);t.removeAttribute("src");t.setAttribute("decoding","async");t.classList.add("lazyload");if(s&&n){t.setAttribute("width",s);t.setAttribute("height",n)}};const i=()=>{if(Date.now()-e<500)return;e=Date.now();document.querySelectorAll("img").forEach(o);if(!s){s=true;document.documentElement.style.visibility="visible"}};const r=new MutationObserver((t=>{for(const{addedNodes:e}of t){for(const t of e){if(t.nodeType!==1)continue;if(t.tagName==="IMG"){o(t)}else{t.querySelectorAll?.("img").forEach(o)}}}}));r.observe(document.documentElement||document.body,{childList:true,subtree:true});if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",i)}else{i()}["ajaxComplete","ajaxSuccess","DOMContentLoaded","load","pageshow","readystatechange"].forEach((t=>{document.addEventListener(t,i,{passive:true,capture:true});window.addEventListener(t,i,{passive:true,capture:true})}));setInterval(i,2e3)})();
