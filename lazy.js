(function(){const t=document.querySelector(".pa_loader");t.style.visibility="visible";document.documentElement.style.visibility="hidden";const e=new Map;let i=0;const n=function(t){return t.closest(".slick_carousel")||t.closest("#st-visual-editor")||t.closest(".send")||t.hasAttribute("data-src")||t.classList.contains("lazyload")||t.getAttribute("decoding")==="async"||t.src.indexOf("data:")===0};const s=function(t,e){return"data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'+(t||1)+'" height="'+(e||1)+'" viewBox="0 0 '+(t||1)+" "+(e||1)+'"></svg>')};const o=async function(s){if(n(s))return;const o=s.src;if(!o||o.indexOf("data:")===0)return;if(e.has(o)){const{width:t,height:i}=e.get(o);c(s,o,t,i);return}i++;try{const t=await a(o);e.set(o,t);c(s,o,t.width,t.height)}catch{c(s,o)}i--;if(i===0){document.documentElement.style.visibility="visible";t.style.visibility="hidden"}};const a=function(t){return new Promise(((e,i)=>{const n=new Image;n.onload=function(){e({width:n.naturalWidth,height:n.naturalHeight})};n.onerror=i;n.src=t}))};const c=function(t,e,i,n){t.src=s(i,n);t.setAttribute("data-src",e);t.classList.add("lazyload");t.setAttribute("decoding","async");if(i&&n){t.setAttribute("width",i);t.setAttribute("height",n)}};const r=async function(){const e=document.querySelectorAll("img:not([data-src]):not(.lazyload)");if(e.length===0){document.documentElement.style.visibility="visible";t.style.visibility="hidden";return}await Promise.all(Array.from(e).map((t=>o(t))));if(i===0){document.documentElement.style.visibility="visible";t.style.visibility="hidden"}};const l=new MutationObserver((function(t){t.forEach((async t=>{const e=Array.from(t.addedNodes);for(const t of e){if(t.nodeType===1){if(t.tagName==="IMG"){await o(t)}else if(t.querySelectorAll){const e=t.querySelectorAll("img:not([data-src]):not(.lazyload)");await Promise.all(Array.from(e).map((t=>o(t))))}}}}))}));if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",r)}else{r()}l.observe(document.documentElement,{childList:true,subtree:true});const d=["ajaxComplete","ajaxSuccess","load","pageshow"];d.forEach((t=>{window.addEventListener(t,r,{passive:true})}))})();
