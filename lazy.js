(function(){document.documentElement.style.visibility='hidden';const e=new Map;let t=0;const n=function(t){return t.closest(".slick_carousel")||t.closest("#st-visual-editor")||t.closest(".send")||t.hasAttribute("data-src")||t.classList.contains("lazyload")||"async"===t.getAttribute("decoding")||0===t.src.indexOf("data:")},i=function(e,t){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+(e||1)+"' height='"+(t||1)+"' viewBox='0 0 "+(e||1)+" "+(t||1)+"'%3E%3C/svg%3E"},c=async function(c){if(!n(c)){const o=c.src;if(o&&0!==o.indexOf("data:")){if(e.has(o)){const{width:n,height:i}=e.get(o);r(c,o,n,i);return}t++;try{const n=await a(o);e.set(o,n),r(c,o,n.width,n.height)}catch{r(c,o)}t--,0===t&&(document.documentElement.style.visibility="visible")}}},a=function(e){return new Promise((t,n)=>{const i=new Image;i.onload=function(){t({width:i.naturalWidth,height:i.naturalHeight})},i.onerror=n,i.src=e})},r=function(e,t,n,c){e.src=i(n,c),e.setAttribute("data-src",t),e.classList.add("lazyload"),e.setAttribute("decoding","async"),n&&c&&(e.setAttribute("width",n),e.setAttribute("height",c))},o=async function(){const e=document.querySelectorAll("img:not([data-src]):not(.lazyload)");if(0===e.length)return void(document.documentElement.style.visibility="visible");await Promise.all(Array.from(e).map((e=>c(e)))),0===t&&(document.documentElement.style.visibility="visible")},d=new MutationObserver((function(e){e.forEach(async e=>{const t=Array.from(e.addedNodes);for(const e of t)1===e.nodeType&&("IMG"===e.tagName?await c(e):e.querySelectorAll&&await Promise.all(Array.from(e.querySelectorAll("img:not([data-src]):not(.lazyload)")).map((e=>c(e))))})}));"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),d.observe(document.documentElement,{childList:!0,subtree:!0}),["ajaxComplete","ajaxSuccess","load","pageshow"].forEach((e=>{window.addEventListener(e,o,{passive:!0})}))})();
