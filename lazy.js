(function(){const e=new Map;let t=0;let a=false;const s=e=>e.closest(".slick_carousel, #st-visual-editor, .send")||e.hasAttribute("data-src")||e.classList.contains("lazyload")||e.getAttribute("decoding")==="async"||e.src&&e.src.startsWith("data:");const r=(e,t,a=null,s=null)=>{e.setAttribute("data-src",t);e.removeAttribute("src");e.setAttribute("decoding","async");e.classList.add("lazyload");if(a&&s){e.setAttribute("width",a);e.setAttribute("height",s)}};const n=t=>{if(s(t))return;const a=t.src;if(!a)return;if(e.has(a)){const{width:s,height:n}=e.get(a);r(t,a,s,n)}else{const s=new Image;s.onload=()=>{e.set(a,{width:s.naturalWidth,height:s.naturalHeight});r(t,a,s.naturalWidth,s.naturalHeight)};s.onerror=()=>r(t,a);s.src=a}};const o=()=>{if(Date.now()-t<500)return;t=Date.now();document.querySelectorAll("img").forEach(n)};const i=()=>{if(!a)return;a=false;if("requestIdleCallback"in window){requestIdleCallback(o,{timeout:2e3})}else{requestAnimationFrame(o)}};const c=new MutationObserver((e=>{for(const{addedNodes:t}of e){for(const e of t){if(e.nodeType!==1)continue;if(e.tagName==="IMG"){n(e)}else{e.querySelectorAll?.("img")?.forEach(n)}}}a=true}));c.observe(document.body,{childList:true,subtree:true});const d=["ajaxComplete","ajaxSuccess","DOMContentLoaded","load","pageshow","readystatechange"];d.forEach((e=>{document.addEventListener(e,(()=>{a=true;i()}),{passive:true,capture:true});window.addEventListener(e,(()=>{a=true;i()}),{passive:true,capture:true})}));if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",o,{once:true})}else{o()}setInterval(i,2e3)})();
