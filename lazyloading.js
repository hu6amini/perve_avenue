(function(){const e=t=>{if(t.closest("#pa_slideshow")||t.getAttribute("data-src"))return;const e=(e,i)=>(t.getAttribute("width")||t.setAttribute("width",e),t.getAttribute("height")||t.setAttribute("height",i),{width:e,height:i}),i=t=>{const e=t.getBoundingClientRect();return e.width&&e.height?{width:Math.round(e.width),height:Math.round(e.height)}:null},a=t=>{const e=window.getComputedStyle(t),i=parseFloat(e.width)||0,a=parseFloat(e.height)||0;return i&&a?{width:i,height:a}:null},o=t=>{const e=t.parentElement;return e?{width:e.clientWidth,height:e.clientHeight}:null},r=(t,e)=>{const i=new MutationObserver(()=>{t.offsetWidth>0&&t.offsetHeight>0&&(e({width:t.offsetWidth,height:t.offsetHeight}),i.disconnect())});i.observe(t,{attributes:!0,subtree:!0,childList:!0})},n=()=>t.offsetWidth&&t.offsetHeight?e(t.offsetWidth,t.offsetHeight):i(t)?e(i(t).width,i(t).height):a(t)?e(a(t).width,a(t).height):o(t)?e(o(t).width,o(t).height):t.naturalWidth&&t.naturalHeight?e(t.naturalWidth,t.naturalHeight):new Promise(i=>{const a=new Image;a.src=t.src,a.onload=()=>i(e(a.width,a.height)),r(t,i)}),s=(e,i)=>{const a=e.closest(".lz-container");a&&(a.style.width=i.width+"px",a.style.height=i.height+"px")},d=async()=>{const i=await n();t.setAttribute("data-src",t.src),t.removeAttribute("src"),t.setAttribute("decoding","async"),t.setAttribute("data-sizes","auto"),t.classList.add("lazyload"),t.closest(".color")&&requestAnimationFrame(()=>{const e=document.createElement("div");e.classList.add("lz-container"),t.parentNode.insertBefore(e,t),e.appendChild(t),e.style.width=i.width+"px",e.style.height=i.height+"px"}),s(t,i)};d()},t=new MutationObserver(t=>{const i=[];t.forEach(t=>{t.addedNodes.forEach(t=>{t.nodeType===Node.ELEMENT_NODE&&"IMG"===t.tagName&&i.push(t)})}),i.forEach(t=>e(t))});t.observe(document.documentElement,{childList:!0,subtree:!0}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("img:not(.lazyload)").forEach(t=>e(t))})})();
